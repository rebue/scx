# 配置中心中的配置

# 生成workid使用
curator:
  connect-string: zookeeper_zoo1:2181,zookeeper_zoo2:2181,zookeeper_zoo3:2181

spring:
  shardingsphere:
    enabled: true
    datasource:
      names: master,slave
      master:
        driver-class-name: com.mysql.jdbc.Driver
        jdbc-url: jdbc:mysql://mysql1:3306/oap
        type: com.zaxxer.hikari.HikariDataSource
        username: root
        password: xxxxxxxx
      slave:
        driver-class-name: com.mysql.jdbc.Driver
        jdbc-url: jdbc:mysql://mysql2:3306/oap
        type: com.zaxxer.hikari.HikariDataSource
        username: root
        password: xxxxxxxx
    rules:
      readwrite-splitting:
        data-sources:
          masterslave:
            write-data-source-name: master
            read-data-source-names: slave
  liquibase:
    # 升级数据库的配置文件的地址
    change-log: classpath:config/db-change-log.yml
    url: jdbc:mysql://mysql1:3306/oap?useUnicode=true&characterEncoding=utf-8&allowMultiQueries=true&useSSL=false
    user: root
    password: xxxxxxxx
  rabbitmq:
    host: rabbitmq_rabbitmq
    port: 5672
    username: guest
    password: guest
    virtual-host: /
  redis:
    password: Redis@nnxy2021
    sentinel:
      master: mymaster
      nodes:
        - redis_sentinel1:26379
        - redis_sentinel2:26379
        - redis_sentinel3:26379
  # 链路追踪采集器
  sleuth:
    sampler:
      # 将采样比例设置为 1.0，也就是全部都需要。默认是 0.1
      probability: 1
  # 链路追踪可视化服务器
  zipkin:
    # 服务器地址
    base-url: http://zipkin:9411

oidc:
  login-url: https://auth.nnxy.edu.cn/admin-web/unified-auth/#/sign-in/unified